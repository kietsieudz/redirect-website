<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TDStudio – Home Page</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/css/ph.css">
  <meta property="og:image" content="https://nroclan.com/static/sonic/img/ok.png?v=112">
  <meta property="og:image:secure_url" content="https://nroclan.com/static/sonic/img/ok.png?v=112">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:type" content="image/png">
</head>

<body>
  <header class="appbar">
    <a class="brand" href="./" aria-label="TDStudio Home">
      <img src="assets/logo.png" alt="TDStudio" />
    </a>
    <a class="login-btn" href="./">Login</a>
  </header>

  <main class="page">
    <section class="hero">
      <img src="assets/banner.png?v=12" alt="Sự kiện nổi bật" />
      <div class="hero__quick">
        <!-- Fanpage -->
        <a class="quick" href="https://www.facebook.com/ngocrongnthevmax" target="_blank">
          <svg class="quick__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="3" y="3" width="18" height="18" rx="4"></rect>
            <path d="M14 8h-2.2A2.8 2.8 0 0 0 9 10.8V21"></path>
            <path d="M10 13h3.8"></path>
          </svg>
          <span>Fanpage</span>
        </a>

        <!-- Giftcode -->
        <a class="quick" href="#" id="btnGiftcode">
          <svg class="quick__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <rect x="3" y="8" width="18" height="12" rx="2"></rect>
            <path d="M3 12h18M12 8v12"></path>
            <path
              d="M7.5 6a2.5 2.5 0 1 1 5 0c0 1.4-2.5 2-2.5 2s-2.5-.6-2.5-2zM11.5 6A2.5 2.5 0 1 1 16 6c0 1.4-2.5 2-2.5 2">
            </path>
          </svg>
          <span>Giftcode</span>
        </a>

        <!-- Groups -->
        <a class="quick" href="https://www.facebook.com/groups/916049213653568">
          <svg class="quick__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <circle cx="9" cy="8" r="3"></circle>
            <path d="M2 20a7 7 0 0 1 14 0"></path>
            <circle cx="17" cy="9" r="2.5"></circle>
            <path d="M22 20a6 6 0 0 0-7-5"></path>
          </svg>
          <span>Groups</span>
        </a>

        <!-- Liên hệ -->
        <a class="quick" href="https://thanhdi.top/contact.html">
          <svg class="quick__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path
              d="M22 16.9v2a2 2 0 0 1-2.2 2 19 19 0 0 1-8.3-3.1 19 19 0 0 1-6-6 19 19 0 0 1-3.1-8.3A2 2 0 0 1 4.4 1.2h2A2 2 0 0 1 8.3 2.7L9 5.9a2 2 0 0 1-.6 2L7.2 9.2a16 16 0 0 0 7.6 7.6l1.3-1.2a2 2 0 0 1 2-.5l3.2.7A2 2 0 0 1 22 16.9z" />
          </svg>
          <span>Contact</span>
        </a>

        <!-- Privacy -->
        <a class="quick" href="privacy.html">
          <svg class="quick__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"
            stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <path d="M12 2l7 3v6c0 5-3.5 9.5-7 11-3.5-1.5-7-6-7-11V5l7-3z"></path>
            <path d="M9.5 12l2 2 3.5-3.5"></path>
          </svg>
          <span>Privacy</span>
        </a>
      </div>
    </section>
    <section class="section">
      <div class="section__head">
        <h2 id="gamedexuat">GAME ĐỀ XUẤT</h2>
        <a class="see-all" href="#" id="xemtatca">Xem tất cả <span
            class="arrow">›</span></a>
      </div>

      <div class="cards">
        <a class="card" href="https://nroclan.com" target="_blank">
          <div class="card__thumb">
            <img src="assets/1.png" alt="Ngọc Rồng Clan" />
            <span class="tag hot">HOT</span>
          </div>
          <h3 class="card__title">Server 1 (Clan)</h3>
          <div class="card__meta">GAME HOT</div>
        </a>

        <a class="card" href="https://nro3q.com" target="_blank">
          <div class="card__thumb">
            <img src="assets/2.png" alt="Ngọc Rồng 3Q" />
            <span class="tag hot">HOT</span>
          </div>
          <h3 class="card__title">Server 2 (3Q)</h3>
          <div class="card__meta">GAME HOT</div>
        </a>

        <a class="card" href="https://nromun.com" target="_blank">
          <div class="card__thumb">
            <img src="assets/3.png" alt="Ngọc Rồng Mun" />
            <span class="tag hot">HOT</span>
          </div>
          <h3 class="card__title">Server 3 (Mun)</h3>
          <div class="card__meta">GAME HOT</div>
        </a>

        <a class="card" href="https://nrogping.com" target="_blank">
          <div class="card__thumb">
            <img src="assets/4.png" alt="Ngọc Rồng Ping" />
            <span class="tag hot">HOT</span>
          </div>
          <h3 class="card__title">Server 4 (Ping)</h3>
          <div class="card__meta">GAME HOT</div>
        </a>

        <a class="card" href="https://nrokid.com" target="_blank">
          <div class="card__thumb">
            <img src="assets/5.png" alt="Ngọc Rồng Kid" />
            <span class="tag hot">HOT</span>
          </div>
          <h3 class="card__title">Server 5 (Kid)</h3>
          <div class="card__meta">GAME HOT</div>
        </a>
      </div>
    </section>
    <!-- News / Posts -->
    <section class="section section-news">
      <div class="section__head">
        <h2>TIN TỨC</h2>
        <a class="see-all" href="#" id="xemtatca">Xem tất cả <span class="arrow">›</span></a>
      </div>

      <div id="posts" class="posts"></div>

      <div class="news__actions">
        <button class="btn" id="loadMorePosts">Tải thêm</button>
      </div>
    </section>
    <!-- ===== Footer ===== -->
    <footer class="footer">
      <img src="assets/logo.png" alt="TDStudio" class="footer-logo">
      <p class="footer-contact">
        Contact: <a href="https://www.facebook.com/ngocrongnthevmax">Fanpage</a> ·
        Email: <a href="mailto:contact@thanhdi.top">contact@thanhdi.top</a>
      </p>
      <p class="footer-text small">
        TDStudio is an indie team creating unique and fun games. We focus on engaging gameplay, original art, and
        ongoing improvements for players.
      </p>
      <p class="footer-copy">
        © 2025 ThanhDi Studio – All rights reserved.
      </p>
    </footer>
  </main>

  <nav
    style="position:fixed;bottom:0;left:0;right:0;display:grid;grid-template-columns:repeat(5,1fr);background:linear-gradient(180deg,rgba(20,22,33,.95),rgba(20,22,33,.95));border-top:1px solid rgba(255,255,255,.08);padding:6px 6px calc(10px + env(safe-area-inset-bottom));z-index:50;">

    <!-- Fanpage -->
    <a href="https://www.facebook.com/ngocrongnthevmax" target="_blank"
      style="display:grid;place-items:center;gap:4px;text-decoration:none;color:#cbd5e1;padding:8px 0;border-radius:12px;font-size:12px;font-weight:500;">
      <svg viewBox="0 0 256 256" style="width:22px;height:22px;fill:currentColor;">
        <path
          d="M128 24a104 104 0 1 0 104 104A104.2 104.2 0 0 0 128 24Zm20 112h-12v48a8 8 0 0 1-16 0v-48h-8a8 8 0 0 1 0-16h8v-8c0-15.5 9.9-28 24-28h12a8 8 0 0 1 0 16h-12c-4.3 0-8 4.5-8 12v8h12a8 8 0 0 1 0 16Z" />
      </svg>
      <span>Fanpage</span>
    </a>

    <!-- Giftcode -->
    <a href="./" id="btnGiftcode"
      style="display:grid;place-items:center;gap:4px;text-decoration:none;color:#cbd5e1;padding:8px 0;border-radius:12px;font-size:12px;font-weight:500;">
      <svg viewBox="0 0 256 256" style="width:22px;height:22px;fill:currentColor;">
        <path
          d="M208 72h-21.1a36 36 0 1 0-58.9-40.6A36 36 0 1 0 69.1 72H48a16 16 0 0 0-16 16v32a8 8 0 0 0 8 8h8v88a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-88h8a8 8 0 0 0 8-8V88a16 16 0 0 0-16-16Zm-56-24a20 20 0 1 1-20 20 20 20 0 0 1 20-20Zm-64 0a20 20 0 1 1-20 20 20 20 0 0 1 20-20ZM128 216H80v-88h48Zm48 0h-32v-88h32Zm32-104H48V88h160Z" />
      </svg>
      <span>Giftcode</span>
    </a>

    <!-- Trang chủ (active) -->
    <a href="./"
      style="display:grid;place-items:center;gap:4px;text-decoration:none;color:#fff;padding:8px 0;border-radius:12px;font-size:12px;font-weight:500;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);">
      <svg viewBox="0 0 256 256" style="width:22px;height:22px;fill:currentColor;">
        <path
          d="M218.8 106.3 136 34.7a15.9 15.9 0 0 0-21.1 0l-82.7 71.6A16 16 0 0 0 24 118.3V208a16 16 0 0 0 16 16h56a8 8 0 0 0 8-8v-56h48v56a8 8 0 0 0 8 8h56a16 16 0 0 0 16-16v-89.7a16 16 0 0 0-5.2-11.3Z" />
      </svg>
      <span>Home</span>
    </a>

    <!-- Liên Hệ -->
    <a href="https://thanhdi.top/contact.html"
      style="display:grid;place-items:center;gap:4px;text-decoration:none;color:#cbd5e1;padding:8px 0;border-radius:12px;font-size:12px;font-weight:500;">
      <svg viewBox="0 0 256 256" style="width:22px;height:22px;fill:currentColor;">
        <path
          d="M221.6 158.5a54.3 54.3 0 0 0-43.5-21.4 55.8 55.8 0 0 0-17.8 2.9 8.4 8.4 0 0 0-5.1 10.1l10.1 35.2a4 4 0 0 1-1 3.9l-11.5 11.6a152.5 152.5 0 0 1-60.3-60.3l11.6-11.5a4 4 0 0 1 3.9-1l35.2 10.1a8.4 8.4 0 0 0 10.1-5.1A55.8 55.8 0 0 0 118.9 78a54.3 54.3 0 0 0-21.4-43.5 12.3 12.3 0 0 0-13.5-1.6l-28 12.7a16.2 16.2 0 0 0-8.9 11.6C37 88.5 42 139 84 181s92.5 47 123.8 37.1a16.2 16.2 0 0 0 11.6-8.9l12.7-28a12.3 12.3 0 0 0-1.5-13.7Z" />
      </svg>
      <span>Contact</span>
    </a>

    <!-- Privacy -->
    <a href="https://thanhdi.top/privacy.html"
      style="display:grid;place-items:center;gap:4px;text-decoration:none;color:#cbd5e1;padding:8px 0;border-radius:12px;font-size:12px;font-weight:500;">
      <svg viewBox="0 0 256 256" style="width:22px;height:22px;fill:currentColor;">
        <path
          d="M208 40H48a8 8 0 0 0-8 8v56c0 88 77.2 119.4 85.1 122.5a7.7 7.7 0 0 0 5.8 0c7.9-3.1 85.1-34.5 85.1-122.5V48a8 8 0 0 0-8-8Zm-42.3 72.3-40 40a8.1 8.1 0 0 1-11.4 0l-20-20a8 8 0 0 1 11.4-11.4l14.3 14.4 34.3-34.4a8 8 0 0 1 11.4 11.4Z" />
      </svg>
      <span>Privacy</span>
    </a>
  </nav>


  <!-- Giftcode Modal -->
  <div class="modal" id="giftcodeModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal__backdrop" data-close="giftcode"></div>
    <div class="modal__dialog" role="document">
      <header class="modal__head">
        <h3>Giftcode</h3>
        <button class="icon-btn close" aria-label="Đóng" data-close="giftcode">×</button>
      </header>
      <div class="modal__body">
        <p class="muted">Nhấn <b>Copy</b> để sao chép nhanh mã.</p>
        <ul class="gift-list" id="giftList">
          <!-- app.js sẽ render các item vào đây -->
        </ul>
      </div>
      <footer class="modal__foot">
        <button class="btn" id="copyAllGift">Copy tất cả</button>
        <button class="btn btn-ghost" data-close="giftcode">Đóng</button>
      </footer>
    </div>
  </div>

  <!-- Toast nho nhỏ -->
  <div class="toast" id="toast"></div>

  <script src="app.js"></script>
<script>
(function(){
  /* ============ NHẬN DIỆN ============ */
  var ua = navigator.userAgent || "";
  var isAndroid = /Android/i.test(ua);
  var isIOS = /iPhone|iPad|iPod/i.test(ua);

  var isMessenger    = /Messenger|FBAN\/Messenger|FB_IAB/i.test(ua);
  var isFacebookApp  = /(FBAN|FBAV|FB_IAB|FB4A|com\.facebook\.katana)/i.test(ua);
  var isInstagram    = /Instagram/i.test(ua);
  var isTikTok       = /TikTok/i.test(ua);
  var isZalo         = /Zalo|zclient|ZaloTheme/i.test(ua);
  var isLine         = /Line\/|LINE/i.test(ua);
  var isTwitterApp   = /\bTwitter|X\/\d+/i.test(ua);
  var isSnap         = /Snapchat/i.test(ua);
  var isAndroidWV    = /\bwv\b/i.test(ua) || (/Version\/\d+\.\d+.*Chrome\/\d+/i.test(ua) && /; wv\)/i.test(ua));

  var appName = isMessenger ? "Messenger"
             : isFacebookApp ? "Facebook"
             : isInstagram ? "Instagram"
             : isTikTok ? "TikTok"
             : isZalo ? "Zalo"
             : isLine ? "LINE"
             : isTwitterApp ? "X (Twitter)"
             : isSnap ? "Snapchat"
             : (isAndroidWV ? "Android WebView" : "");

  var isInApp = !!appName;

  // Cho dev mock nhanh: thêm ?oibapp=messenger|facebook|instagram|tiktok|zalo|line|x|snap|webview
  try {
    var mock = (new URLSearchParams(location.search).get("oibapp")||"").toLowerCase();
    if (mock) {
      isInApp = true;
      appName = {
        messenger:"Messenger", facebook:"Facebook", instagram:"Instagram", tiktok:"TikTok",
        zalo:"Zalo", line:"LINE", x:"X (Twitter)", twitter:"X (Twitter)", snap:"Snapchat", webview:"Android WebView"
      }[mock] || "Trình duyệt MXH";
    }
  } catch(e){}

  if (!isInApp) return;

  /* ============ UI: THANH CỐ ĐỊNH TRÊN CÙNG ============ */
  var style = document.createElement("style");
  style.textContent = `
    #mxh-topbar{
      position:fixed; top:0; left:0; right:0; z-index:2147483647;
      display:flex; gap:8px; align-items:center; justify-content:space-between;
      padding:10px 12px; box-sizing:border-box;
      background:#111827; color:#e5e7eb; border-bottom:1px solid #374151;
      box-shadow:0 6px 18px rgba(0,0,0,.35);
      font: 600 14px/1.35 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
    }
    #mxh-topbar .msg{display:flex; gap:8px; align-items:center; flex:1; min-width:0}
    #mxh-topbar .pill{
      display:inline-flex; align-items:center; gap:6px;
      background:#1f2937; border:1px solid #4b5563; border-radius:999px;
      padding:6px 10px; font-weight:700; white-space:nowrap;
    }
    #mxh-topbar .hint{opacity:.9; font-weight:500}
    #mxh-topbar .actions{display:flex; gap:8px; flex-shrink:0}
    #mxh-topbar button{
      appearance:none; cursor:pointer; border-radius:10px; border:1px solid #4b5563;
      background:#0f172a; color:#e5e7eb; padding:8px 12px; font-weight:700;
    }
    #mxh-topbar button:hover{background:#0b1224}
    #mxh-topbar .close{background:transparent; border-color:transparent; padding:4px 8px; font-weight:800}
    html.mxh-hasbar{scroll-padding-top:56px}
  `;
  document.head.appendChild(style);

  // Lời khuyên theo hệ điều hành
  var suggest = isAndroid ? "Bạn nên mở bằng trình duyệt Chrome để gửi form ổn định."
                          : "Bạn nên mở bằng Safari để gửi form ổn định.";

  var bar = document.createElement("div");
  bar.id = "mxh-topbar";
  bar.innerHTML = `
    <div class="msg">
      <span class="pill">Đang mở trong ${appName}</span>
      <span class="hint">&nbsp;— Trình duyệt của MXH có thể làm **form không gửi được**. ${suggest}</span>
    </div>
    <div class="actions">
      <button id="mxh-copy">Copy link</button>
      <button class="close" id="mxh-close" title="Ẩn thông báo">✕</button>
    </div>
  `;
  document.body.appendChild(bar);

  // Đẩy nội dung xuống một chút để không bị thanh che
  // (nếu site bạn đã có header fixed rồi, có thể bỏ dòng dưới)
  document.documentElement.classList.add("mxh-hasbar");
  // hoặc có thể cộng padding-top động:
  document.body.style.paddingTop = (parseInt(getComputedStyle(document.body).paddingTop||"0",10)+56) + "px";

  // Copy link
  document.getElementById("mxh-copy").addEventListener("click", function(){
    var url = location.href;
    (navigator.clipboard && navigator.clipboard.writeText)
      ? navigator.clipboard.writeText(url).then(done, fallback)
      : fallback();
    function fallback(){
      var ta = document.createElement("textarea");
      ta.value = url; document.body.appendChild(ta);
      ta.select(); document.execCommand("copy");
      document.body.removeChild(ta); done();
    }
    function done(){
      var btn = document.getElementById("mxh-copy");
      var old = btn.textContent;
      btn.textContent = "Đã copy ✔";
      setTimeout(()=>btn.textContent = old, 1500);
    }
  });

  // Đóng thanh
  document.getElementById("mxh-close").addEventListener("click", function(){
    bar.remove();
    document.documentElement.classList.remove("mxh-hasbar");
    // trả lại padding-top cũ (đơn giản: xóa chỉnh sửa)
    document.body.style.paddingTop = "";
  });
})();
</script>


</body>

</html>
